<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Vicente K√∂hler</title>

  <!-- Bootstrap + estilos -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="css/main.css" rel="stylesheet">
  <script src="https://kit.fontawesome.com/a2e8a5b35c.js" crossorigin="anonymous"></script>

  <style>
    .theme-toggle, .lang-toggle {
      width: 42px;
      height: 42px;
      border-radius: 50%;
      padding: 0.4rem;
      background: rgba(255,255,255,0.1);
      border: none;
      color: #fff;
      cursor: pointer;
      transition: background 0.3s ease, transform 0.3s ease;
      display: flex;
      align-items: center;
      justify-content: center;
      backdrop-filter: blur(8px);
      z-index: 2;
    }

    .theme-toggle:hover, .lang-toggle:hover {
      background: rgba(255,255,255,0.25);
    }

    .lang-toggle img {
      width: 24px;
      height: 24px;
      border-radius: 50%;
    }

    .dropdown-menu {
      font-size: 0.9rem;
    }

    @media (max-width: 576px) {
      .theme-toggle, .lang-toggle {
        width: 36px;
        height: 36px;
      }

      .lang-toggle img {
        width: 20px;
        height: 20px;
      }
    }
  </style>
</head>
<body>

  <!-- Blobs -->
  <div class="blob blob1"></div>
  <div class="blob blob2"></div>
  <div class="blob blob3"></div>

  <div class="card text-center position-relative">

    <!-- Selector de idioma -->
    <div class="position-absolute top-0 start-0 p-3 dropdown">
      <button class="btn lang-toggle d-flex align-items-center justify-content-center" id="langToggle" data-bs-toggle="dropdown" aria-expanded="false">
        <img src="assets/es.png" id="currentFlag" alt="Idioma">
      </button>
      <ul class="dropdown-menu">
        <li>
          <button class="dropdown-item d-flex align-items-center lang-flag" data-lang="es">
            <img src="assets/es.png" width="20" class="me-2"> Espa√±ol
          </button>
        </li>
        <li>
          <button class="dropdown-item d-flex align-items-center lang-flag" data-lang="en">
            <img src="assets/gb.png" width="20" class="me-2"> English
          </button>
        </li>
      </ul>
    </div>

    <!-- Bot√≥n modo claro/oscuro -->
    <button class="theme-toggle position-absolute top-0 end-0 m-3" id="toggleTheme" title="Cambiar tema">üåô</button>

    <!-- Perfil -->
    <img src="img/foto.jpeg" alt="Foto de Vicente" class="profile-img mx-auto">
    <h2 class="fw-bold" data-lang="name">Vicente K√∂hler</h2>
    <p class="mb-1" data-lang="degree">Ing. Civil Industrial / Ing. Civil Inform√°tico - UAI</p>
    <p class="small" data-lang="bio">Estudiante de doble titulaci√≥n...</p>

    <!-- Contacto -->
    <p class="mt-3">üìç <span data-lang="location">Santiago, Chile</span></p>
    <p>
      üìß <span class="copy-container">
        <a href="mailto:vicente.kohler@gmail.com" class="text-info">vicente.kohler@gmail.com</a>
        <i class="fa-regular fa-copy clipboard-icon" onclick="copiarCorreo('vicente.kohler@gmail.com', this)" title="Copiar"></i>
        <span class="copy-tooltip">¬°Copiado!</span>
      </span><br>
      üéì <span class="copy-container">
        <a href="mailto:vkohler@alumnos.uai.cl" class="text-info">vkohler@alumnos.uai.cl</a>
        <i class="fa-regular fa-copy clipboard-icon" onclick="copiarCorreo('vkohler@alumnos.uai.cl', this)" title="Copiar"></i>
        <span class="copy-tooltip">¬°Copiado!</span>
      </span><br>
      üì± <span class="copy-container">
        <a href="https://wa.me/56989159883" class="text-info" target="_blank">+56 9 8915 9883</a>
        <i class="fa-regular fa-copy clipboard-icon" onclick="copiarCorreo('+56989159883', this)" title="Copiar"></i>
        <span class="copy-tooltip">¬°Copiado!</span>
      </span>
    </p>

    <!-- Redes -->
    <div class="d-flex flex-wrap justify-content-center gap-3 my-3">
      <a href="https://linkedin.com/in/vicente-k√∂hler-merino-1a17bb230/" target="_blank">
        <img src="assets/linkedin.png" class="icon-img" alt="LinkedIn">
      </a>
      <a href="https://github.com/vicekohler" target="_blank">
        <img src="assets/github.png" class="icon-img" alt="GitHub" id="githubIcon">
      </a>
      <a href="https://instagram.com/vice_kohler" target="_blank">
        <img src="assets/instagram.png" class="icon-img" alt="Instagram">
      </a>
      <a href="https://wa.me/56989159883" target="_blank">
        <img src="assets/whatsapp.png" class="icon-img" alt="WhatsApp">
      </a>
    </div>

    <!-- Botones -->
    <div class="d-flex flex-wrap justify-content-center gap-2 mt-2">
      <a href="img/CV Vicente Kohler 2025.pdf" target="_blank" class="btn btn-primary icon-btn" data-lang="cv_es">CV en Espa√±ol</a>
      <a href="img/CV Vicente Kohler 2025 Ingles.pdf" target="_blank" class="btn btn-secondary icon-btn" data-lang="cv_en">CV en Ingl√©s</a>
      <a href="assets/vicente-kohler.vcf" download class="btn btn-outline-primary icon-btn" data-lang="contact">Guardar contacto</a>
    </div>

    <!-- Frase -->
    <p class="mt-4 fst-italic" data-lang="quote">"No busco respuestas f√°ciles, busco las correctas."</p>
  </div>

  <!-- Scripts -->
  <script src="js/lang.js"></script>
  <script>
    const toggle = document.getElementById('toggleTheme');
    const githubIcon = document.getElementById('githubIcon');
    const flag = document.getElementById('currentFlag');

    function updateGithubIcon(isLight) {
      githubIcon.src = isLight ? "assets/github-negro.png" : "assets/github.png";
    }

    function applyThemeTransition() {
      document.body.classList.add('theme-transition');
      setTimeout(() => {
        document.body.classList.remove('theme-transition');
        document.body.classList.add('theme-transition-done');
        setTimeout(() => document.body.classList.remove('theme-transition-done'), 600);
      }, 50);
    }

    toggle.addEventListener('click', () => {
      applyThemeTransition();
      const isLight = document.body.classList.toggle('light-mode');
      localStorage.setItem('theme', isLight ? 'light' : 'dark');
      toggle.textContent = isLight ? '‚òÄÔ∏è' : 'üåô';
      updateGithubIcon(isLight);
    });

    window.addEventListener('DOMContentLoaded', () => {
      const theme = localStorage.getItem('theme');
      const lang = localStorage.getItem('lang') || 'es';
      if (theme === 'light') {
        document.body.classList.add('light-mode');
        toggle.textContent = '‚òÄÔ∏è';
      }
      updateGithubIcon(theme === 'light');
      cambiarIdioma(lang);
      updateFlag(lang);

      document.querySelectorAll('.lang-flag').forEach(btn => {
        btn.addEventListener('click', () => {
          const lang = btn.dataset.lang;
          localStorage.setItem('lang', lang);
          cambiarIdioma(lang);
          updateFlag(lang);
        });
      });
    });

    function updateFlag(lang) {
      const flagSrc = lang === 'es' ? 'assets/es.png' : 'assets/gb.png';
      document.getElementById('currentFlag').src = flagSrc;
    }

    function copiarCorreo(texto, icono) {
      navigator.clipboard.writeText(texto).then(() => {
        icono.classList.remove('fa-copy');
        icono.classList.add('fa-check');
        const tooltip = icono.nextElementSibling;
        tooltip.classList.add('show');
        setTimeout(() => {
          icono.classList.remove('fa-check');
          icono.classList.add('fa-copy');
          tooltip.classList.remove('show');
        }, 1500);
      });
    }
  </script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
